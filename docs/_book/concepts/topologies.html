<!DOCTYPE HTML>
<html lang="en" >
    
    <head>
        
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <title>Heron Topologies | Heron</title>
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="generator" content="GitBook 2.4.3">
        
        
        <meta name="HandheldFriendly" content="true"/>
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">
        <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
        <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">
        
    <link rel="stylesheet" href="../gitbook/style.css">
    
        
        <link rel="stylesheet" href="../gitbook/plugins/gitbook-plugin-anchors/plugin.css">
        
    
        
        <link rel="stylesheet" href="../gitbook/plugins/gitbook-plugin-highlight/website.css">
        
    
    

        
    
    
    <link rel="next" href="../contributors/index.html" />
    
    
    <link rel="prev" href="../concepts/architecture.html" />
    

        
    </head>
    <body>
        
        
    <div class="book" data-level="1.2" data-basepath=".." data-revision="Wed Dec 23 2015 14:44:27 GMT-0800 (PST)">
    

<div class="book-summary">
    <div class="book-search" role="search">
        <input type="text" placeholder="Type to search" class="form-control" />
    </div>
    <nav role="navigation">
        <ul class="summary">
            
            
            
            

            

            
    
        <li class="chapter " data-level="0" data-path="index.html">
            
                
                    <a href="../index.html">
                
                        <i class="fa fa-check"></i>
                        
                        Introduction
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="1" data-path="concepts/index.html">
            
                
                    <a href="../concepts/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.</b>
                        
                        Concepts
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.1" data-path="concepts/architecture.html">
            
                
                    <a href="../concepts/architecture.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.1.</b>
                        
                        The Architecture of Heron
                    </a>
            
            
        </li>
    
        <li class="chapter active" data-level="1.2" data-path="concepts/topologies.html">
            
                
                    <a href="../concepts/topologies.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.2.</b>
                        
                        Heron Topologies
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2" data-path="contributors/index.html">
            
                
                    <a href="../contributors/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.</b>
                        
                        Contributors
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1" data-path="contributors/custom-scheduler.html">
            
                
                    <a href="../contributors/custom-scheduler.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.1.</b>
                        
                        Building a Custom Scheduler
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3" data-path="operators/index.html">
            
                
                    <a href="../operators/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.</b>
                        
                        Operators
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.1" data-path="operators/deployment/index.html">
            
                
                    <a href="../operators/deployment/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.1.</b>
                        
                        Deployment
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.1.1" data-path="operators/deployment/zookeeper.html">
            
                
                    <a href="../operators/deployment/zookeeper.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.1.1.</b>
                        
                        Setting Up ZooKeeper
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.1.2" data-path="operators/deployment/aurora.html">
            
                
                    <a href="../operators/deployment/aurora.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.1.2.</b>
                        
                        Aurora
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.1.3" data-path="operators/deployment/mesos.html">
            
                
                    <a href="../operators/deployment/mesos.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.1.3.</b>
                        
                        Mesos
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.1.4" data-path="operators/deployment/local.html">
            
                
                    <a href="../operators/deployment/local.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.1.4.</b>
                        
                        Local scheduler
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3.2" data-path="operators/compiling.html">
            
                
                    <a href="../operators/compiling.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.2.</b>
                        
                        Compiling Heron
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    


            
            <li class="divider"></li>
            <li>
                <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
                    Published with GitBook
                </a>
            </li>
            
        </ul>
    </nav>
</div>

    <div class="book-body">
        <div class="body-inner">
            <div class="book-header" role="navigation">
    <!-- Actions Left -->
    <a href="#" class="btn pull-left toggle-summary" aria-label="Table of Contents"><i class="fa fa-align-justify"></i></a>
    <a href="#" class="btn pull-left toggle-search" aria-label="Search"><i class="fa fa-search"></i></a>
    
    <div id="font-settings-wrapper" class="dropdown pull-left">
        <a href="#" class="btn toggle-dropdown" aria-label="Font Settings"><i class="fa fa-font"></i>
        </a>
        <div class="dropdown-menu font-settings">
    <div class="dropdown-caret">
        <span class="caret-outer"></span>
        <span class="caret-inner"></span>
    </div>

    <div class="buttons">
        <button type="button" id="reduce-font-size" class="button size-2">A</button>
        <button type="button" id="enlarge-font-size" class="button size-2">A</button>
    </div>

    <div class="buttons font-family-list">
        <button type="button" data-font="0" class="button">Serif</button>
        <button type="button" data-font="1" class="button">Sans</button>
    </div>

    <div class="buttons color-theme-list">
        <button type="button" id="color-theme-preview-0" class="button size-3" data-theme="0">White</button>
        <button type="button" id="color-theme-preview-1" class="button size-3" data-theme="1">Sepia</button>
        <button type="button" id="color-theme-preview-2" class="button size-3" data-theme="2">Night</button>
    </div>
</div>

    </div>

    <!-- Actions Right -->
    
    <div class="dropdown pull-right">
        <a href="#" class="btn toggle-dropdown" aria-label="Share"><i class="fa fa-share-alt"></i>
        </a>
        <div class="dropdown-menu font-settings dropdown-left">
            <div class="dropdown-caret">
                <span class="caret-outer"></span>
                <span class="caret-inner"></span>
            </div>
            <div class="buttons">
                <button type="button" data-sharing="twitter" class="button">
                    Share on Twitter
                </button>
                <button type="button" data-sharing="google-plus" class="button">
                    Share on Google
                </button>
                <button type="button" data-sharing="facebook" class="button">
                    Share on Facebook
                </button>
                <button type="button" data-sharing="weibo" class="button">
                    Share on Weibo
                </button>
                <button type="button" data-sharing="instapaper" class="button">
                    Share on Instapaper
                </button>
            </div>
        </div>
    </div>
    

    
    <a href="#" target="_blank" class="btn pull-right google-plus-sharing-link sharing-link" data-sharing="google-plus" aria-label="Google"><i class="fa fa-google-plus"></i></a>
    
    
    <a href="#" target="_blank" class="btn pull-right facebook-sharing-link sharing-link" data-sharing="facebook" aria-label="Facebook"><i class="fa fa-facebook"></i></a>
    
    
    <a href="#" target="_blank" class="btn pull-right twitter-sharing-link sharing-link" data-sharing="twitter" aria-label="Twitter"><i class="fa fa-twitter"></i></a>
    
    
    


    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../" >Heron</a>
    </h1>
</div>

            <div class="page-wrapper" tabindex="-1" role="main">
                <div class="page-inner">
                
                
                    <section class="normal" id="section-">
                    
                        <h1 id="heron-topologies"><a name="heron-topologies" class="plugin-anchor" href="#heron-topologies"><span class="fa fa-link"></span></a>Heron Topologies</h1>
<p>A Heron <strong>topology</strong> is a directed <a href="https://en.wikipedia.org/wiki/Directed_acyclic_graph" target="_blank">acyclic
graph</a> used to process
streams of data. Heron topologies consist of three basic components:
<a href="#spouts">spouts</a> and <a href="#bolts">bolts</a>, which are connected via
<strong>streams</strong> of <a href="../developers/java/data-model.html">tuples</a>. Below is a visual
illustration of a simple topology:</p>
<p><img src="img/topology.png" alt="Heron topology"></p>
<p>Spouts are responsible for emitting <a href="../developers/java/data-model.html">tuples</a>
into the topology, while bolts are responsible for processing those tuples. In
the diagram above, spout <strong>S1</strong> feeds tuples to bolts <strong>B1</strong> and <strong>B2</strong> for
processing; in turn, bolt <strong>B1</strong> feeds processed tuples to bolts <strong>B3</strong> and
<strong>B4</strong>, while bolt <strong>B2</strong> feeds processed tuples to bolt <strong>B4</strong>.</p>
<p>This is just a simple example; you can use bolts and spouts to form arbitrarily
complex topologies.</p>
<h2 id="topology-lifecycle"><a name="topology-lifecycle" class="plugin-anchor" href="#topology-lifecycle"><span class="fa fa-link"></span></a>Topology Lifecycle</h2>
<p>Once you&apos;ve set up a <a href="../operators/deployment/index.html">Heron cluster</a>, you
can use Heron&apos;s <a href="../operators/heron-cli.html">CLI tool</a> to manage the entire
lifecycle of a topology, which typically goes through the following stages:</p>
<ol>
<li>You <a href="../operators/heron-cli.html#submitting-a-topology">submit</a> the topology
to the cluster. The topology is not yet processing streams but is ready to be
activated.</li>
<li>You <a href="../operators/heron-cli.html#activating-a-topology">activate</a> the
topology. Now the topology will begin processing streams in accordance with
the topology architecture that you&apos;ve created.</li>
<li>You can <a href="../operators/heron-cli.html#restarting-a-topology">restart</a> an
active topology if, for example, you need to apply a changed configuration to
the topology.</li>
<li>You can <a href="../operators/heron-cli.html#deactivating-a-topology">deactivate</a> the
topology at any time. Once deactivated, the topology will stop processing but
remain submitted in the cluster.</li>
<li>If you <a href="../operators/heron-cli.html#killing-a-topology">kill</a> a topology it
is no longer known to your Heron cluster and can no longer be activated. Once
killed, the only way to use that topology in your cluster is to re-submit it.</li>
</ol>
<h2 id="spouts"><a name="spouts" class="plugin-anchor" href="#spouts"><span class="fa fa-link"></span></a>Spouts</h2>
<p>A Heron <strong>spout</strong> is a source of streams, responsible for emitting
<a href="../developers/java/data-model.html">tuples</a> into the topology. A spout may, for
example, read data from a Kestrel queue or read tweets from the Twitter API and
emit tuples to one or more bolts.</p>
<p>Information on building spouts can be found in <a href="../developers/java/spouts.html">Building
Spouts</a>.</p>
<h2 id="bolts"><a name="bolts" class="plugin-anchor" href="#bolts"><span class="fa fa-link"></span></a>Bolts</h2>
<p>A Heron <strong>bolt</strong> consumes streams of
<a href="../developers/java/data-model.html">tuples</a> emitted by spouts and performs some
set of user-defined processing operations on those tuples, which may include
performing complex stream transformations, performing storage operations,
aggregating multiple streams into one, emitting tuples to other bolts within the
topology, and much more.</p>
<p>Information on building bolts can be found in <a href="../developers/java/bolts.html">Building
Bolts</a>.</p>
<h2 id="data-model"><a name="data-model" class="plugin-anchor" href="#data-model"><span class="fa fa-link"></span></a>Data Model</h2>
<p>Heron has a fundamentally tuple-driven data model. You can find more information
in <a href="../developers/java/data-model.html">Heron&apos;s Data Model</a>.</p>
<h2 id="logical-plan"><a name="logical-plan" class="plugin-anchor" href="#logical-plan"><span class="fa fa-link"></span></a>Logical Plan</h2>
<p>A topology&apos;s <strong>logical plan</strong> is analagous to a database <a href="https://en.wikipedia.org/wiki/Query_plan" target="_blank">query
plan</a>. The image at the top of this
page is an example logical plan for a topology.</p>
<h2 id="physical-plan"><a name="physical-plan" class="plugin-anchor" href="#physical-plan"><span class="fa fa-link"></span></a>Physical Plan</h2>
<p>A topology&apos;s <strong>physical plan</strong> is related to its logical plan but with the
crucial difference that a physical plan maps the actual execution logic of a
topology, including the machines running each spout or bolt and more. Here&apos;s a
rough visual representation of a physical plan:</p>
<p><img src="img/physicalplan.png" alt="Topology Physical Plan"></p>

                    
                    </section>
                
                
                </div>
            </div>
        </div>

        
        <a href="../concepts/architecture.html" class="navigation navigation-prev " aria-label="Previous page: The Architecture of Heron"><i class="fa fa-angle-left"></i></a>
        
        
        <a href="../contributors/index.html" class="navigation navigation-next " aria-label="Next page: Contributors"><i class="fa fa-angle-right"></i></a>
        
    </div>
</div>

        
<script src="../gitbook/app.js"></script>

    
    <script src="../gitbook/plugins/gitbook-plugin-livereload/plugin.js"></script>
    

<script>
require(["gitbook"], function(gitbook) {
    var config = {"fontSettings":{"theme":null,"family":"sans","size":2}};
    gitbook.start(config);
});
</script>

        
    </body>
    
</html>
